<div class="page-header">
  <h3>Your Lists</h3>
  <ul class="nav nav-tabs" role="tablist">
    <%= content_tag_for(:tr, current_user.lists) do |list| %>
      <% @active = '' %>
      <% @active = 'active' if list == @list %>
      <li class="<%= @active %>"><%= link_to "#{list.name}", list %></li>
    <% end %>
    <li>  <%= link_to new_list_path, :class => 'btn' do %>
        <span class="glyphicon glyphicon-plus"></span>
        New List
      <% end %>
    </li>
  </ul>
</div>


<% if @percentage == 100 %>
  <p>Congrats, you're done!</p>
<% end %>
<div class="progress">
  <div class='<%= @status %>' role="progressbar"
       aria-valuenow="70" aria-valuemin="0" aria-valuemax="100" style="width: <%= @percentage %>%">
    <span class="sr-only"></span><%= @percentage %>%
  </div>
</div>


<%= render 'todos/form' %>

<% if @todos.length>0 %>
  <span class="badge alert-info"><%= pluralize(@todos.length, 'Todo') %></span>

  <%= link_to mark_all_done_path, method: :put do %>
    <span class="label label-success todo_label">Mark All Done</span>
  <% end %>


  <ul class="list-group container">
    <% @todos.each do |todo| %>
      <li class="list-group-item list-group-item-info col-sm-7">
        <%= link_to mark_done_path(todo), method: :put do %>
          <button type="button" class="btn btn-primary btn-lg">
            <span class="glyphicon glyphicon-ok" style="font-size: 1.4em"></span>
          </button>
        <% end %>
        <%= link_to edit_list_todo_path(@list, todo), class: 'todo_font' do %>
          <%= todo.name %>
        <% end %>
        <%= link_to list_todo_path(@list, todo), method: :delete do %>
          <span class="glyphicon glyphicon-remove-sign right_button"></span>
        <% end %>


      </li>
    <% end %>
  </ul>
<% else %>
  <div class="row container">
    <div class="list-group col-sm-4">
      <div class="list-group-item list-group-item-warning">
        You have no ToDo items. Add one now!
      </div>
    </div>
  </div>
<% end %>



<% if @dones.length > 0 %>
  <span class="badge alert-success"><%= "#{@dones.length} Done" %></span>
  <%= link_to dones_path, method: :delete do %>
    <span class="label label-warning todo_label">Delete All</span>
  <% end %>
<% end %>
<ul class="list-group container">
  <% @dones.each do |done| %>
    <li class="list-group-item list-group-item-success col-sm-7">
      <%= link_to list_todo_path(@list, done), method: :delete do %>
        <button type="button" class="btn btn-primary btn-lg">
          <span class="glyphicon glyphicon-remove" style="font-size: 1.4em"></span>
        </button>
      <% end %>
      <span class="todo_font"><%= done.name %></span>
      <%= link_to unmark_done_path(done), method: :put do %>
        <span class="glyphicon glyphicon-circle-arrow-up right_button"></span>
      <% end %>
    </li>
  <% end %>

</ul>



<td><%# link_to 'Edit', edit_list_path(list) %></td>
<td><%= link_to 'Delete list', @list, method: :delete, data: { confirm: 'Are you sure?' } %></td>
